/*!
 * Visual Navigation (visualNav) v2.3 minified
 * https://github.com/Mottie/visualNav/wiki
 * by Rob Garrison (Mottie) MIT licensed.
 */
;(function(c){c.visualNav=function(e,g){var b,a=this;a.$el=c(e);a.$el.data("visualNav",a);a.win=window;a.$win=c(a.win);a.$doc=c(document);var i="html, body";c("html, body").each(function(){var a=c(this).attr("scrollTop");c(this).attr("scrollTop",a+1);if(c(this).attr("scrollTop")===a+1)return i=this.nodeName.toLowerCase(),c(this).attr("scrollTop",a),!1});a.$body=c(i);a.init=function(){a.options=b=c.extend({},c.visualNav.defaultOptions,g);a.content=c("."+b.contentClass);a.leftMargin=parseInt(a.content.css("margin-left"), 10);a.rightMargin=parseInt(a.content.css("margin-right"),10);c.isFunction(c.easing[b.easing[0]])||(b.easing=["swing","swing"]);a.$body.bind("scroll mousedown DOMMouseScroll mousewheel keyup",function(b){(0<b.which||"mousedown"===b.type||"mousewheel"===b.type)&&a.$body.stop()});a.$el.find(b.selectedAppliedTo+(b.selectedAppliedTo===b.link?"":" "+b.link)).not("."+b.externalLinks).add(c("."+b.contentLinks)).click(function(){var d="A"===this.tagName?"href":b.targetAttr;a.animate(c(this).attr(d));return!1}); a.$win.scroll(function(){a.throttle()}).resize(function(){a.throttle()})};a.animate=function(d){if("#"!==d&&c(d).length){var f=c(d).eq(0).closest("."+b.contentClass);f.length&&("function"===typeof b.beforeAnimation&&b.beforeAnimation(a,f),a.$body.stop().animate({scrollLeft:Math.min(f.offset().left,a.$doc.width()-a.$win.width())-a.leftMargin,scrollTop:Math.min(f.offset().top,a.$doc.height()-a.$win.height())},{queue:!1,duration:b.animationTime,specialEasing:{scrollLeft:b.easing[0]||"swing",scrollTop:b.easing[1]|| b.easing[0]||"swing"},complete:function(){b.useHash&&(a.win.location.hash=f[0].id);"function"===typeof b.complete&&b.complete(a,f);a.flag=!1}}))}};a.throttle=function(){a.flag||(a.flag=!0,a.findLocation(),a.timer=setTimeout(function(){a.flag=!1},50))};a.findLocation=function(){var d,f,e,h,g,j,k,i,n=a.$win.width(),p=a.$win.scrollLeft(),q=a.$win.scrollTop(),r=p+n,l=q+a.$win.height(),s=a.$doc.height(),m=a.$el.find(b.selectedAppliedTo).removeClass(b.inViewClass);b.fitContent&&a.content.width(n-a.leftMargin- a.rightMargin);a.$el.find(b.link).each(function(a){h=c(this).attr(b.targetAttr);d="#"===h||1>=h.length?"":c(h);d.length&&(e=Math.ceil(d.offset().top),f=Math.ceil(d.offset().left),j=d.outerHeight(),g=e+j+b.bottomMargin,k=d.outerWidth(),i=f+k,e<l&&((e+j-b.bottomMargin>q||g>l)&&f<r&&(f+k-b.bottomMargin>p||i>r))&&m.eq(a).addClass(b.inViewClass))});h=l+b.bottomMargin>=s?":last":":first";m.removeClass(b.selectedClass);m.filter("."+b.inViewClass+h).addClass(b.selectedClass)};a.init();b.useHash&&a.win.location.hash&& setTimeout(function(){a.animate(a.win.location.hash)},b.animationTime/2);a.findLocation()};c.visualNav.defaultOptions={link:"a",targetAttr:"href",selectedAppliedTo:"li",contentClass:"content",contentLinks:"visualNav",externalLinks:"external",useHash:!0,inViewClass:"inView",selectedClass:"selected",bottomMargin:100,fitContent:!1,animationTime:1200,easing:["swing","swing"],beforeAnimation:null,complete:null};c.fn.visualNav=function(e){return this.each(function(){var g=c(this).data("visualNav");"string"=== typeof e&&/^(#|\.)/.test(e)&&g.animate(e);g||new c.visualNav(this,e)})};c.fn.getvisualNav=function(){return this.data("visualNav")}})(jQuery);
